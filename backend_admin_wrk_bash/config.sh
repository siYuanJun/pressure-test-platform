#!/bin/bash

# 配置文件说明：
# 该文件包含压测工具的所有配置项，分为内网配置和外网配置
# 可以根据需要修改相应的测试目标地址和参数

# ==============================================================================
# 内网测试配置
# ==============================================================================
# 内网测试目标URL列表（格式：名称,URL）
INTRANET_TARGETS=(
  "首页,https://www.example.com/zh/"
)


# ==============================================================================
# 外网测试配置
# ==============================================================================
# 外网测试目标URL列表（格式：名称,URL）
# 默认使用与内网相同的测试目标名称，但URL可以替换为外网地址

INTERNET_TARGETS=(
  "首页,https://www.example.com/zh/"
)

# ==============================================================================
# 通用压测参数配置
# ==============================================================================
# 线程数（模拟的用户数）
# 根据Docker容器CPU核心数(12核)设置为2-4倍
THREADS=14

# 并发连接数列表（从小到大递增测试）
# 基于Docker容器配置(12核10GB)和Web应用特性调整
# 逐步提升并发以找到性能拐点和502错误触发点
# CONNECTIONS_LIST=(100 200 300 500)
# CONNECTIONS_LIST=(100 200 300)
# CONNECTIONS_LIST=(100 200 300 500)
CONNECTIONS_LIST=(100 300 500 1000 1500)

# 每个测试的持续时间
# 设置为60秒以获取稳定的性能数据
DURATION="1s"

# ==============================================================================
# 使用说明
# ==============================================================================
# 1. 修改INTRANET_TARGETS和INTERNET_TARGETS中的URL为实际的测试地址
# 2. 确保URL格式为"名称,URL"，名称保持一致便于对比分析
# 3. 可根据需要调整THREADS、CONNECTIONS_LIST和DURATION参数
# 4. 运行脚本时通过参数选择使用内网或外网配置